#!/usr/bin/env php
<?php

/**
 * vireo Framework - CLI Entry Point
 *
 * Usage: ./vireo <command> [arguments] [options]
 * Example: ./vireo serve --port=8080
 * Example: ./vireo create:user@admin john secret123
 * Example: php vireo list
 */

// Define root path
define('ROOT_PATH', __DIR__);

// Set include path
set_include_path(ROOT_PATH);

// Load Composer autoloader
if (!file_exists(ROOT_PATH . '/vendor/autoload.php')) {
    fwrite(STDERR, "Error: Composer dependencies not installed.\n");
    fwrite(STDERR, "Please run: composer install\n");
    exit(1);
}

require_once ROOT_PATH . '/vendor/autoload.php';

// Bootstrap framework (loads helpers, config, etc.)
Vireo\Framework\Bootstrap::boot();

// Run console and exit with status code
$console = Vireo\Framework\Cli\Console::getInstance();
$exitCode = $console->run($argv);

exit($exitCode);
